<h1>Редактировать товар</h1>

<form action="/products/{{product.id}}/edit" method="POST" enctype="multipart/form-data" style="max-width: 400px;">
    <label>Название:</label><br>
    <input type="text" name="name" value="{{product.name}}" required><br><br>

    <label>Производитель:</label><br>
    <select name="manufacturer" required>
        {{#each manufacturers}}
            <option value="{{this.manufacturer}}" {{#if (eq this.manufacturer ../product.manufacturer)}}selected{{/if}}>
                {{this.manufacturer}}
            </option>
        {{/each}}
    </select><br><br>

    <label>Цена:</label><br>
    <input type="number" name="price" value="{{product.price}}" required><br><br>

    <label>Категория:</label><br>
    <select name="categoryId" required>
        {{#each categories}}
            <option value="{{this.id}}" {{#if (eq this.id ../product.categoryId)}}selected{{/if}}>
                {{this.name}}
            </option>
        {{/each}}
    </select><br><br>

    <label>Новое изображение (не обязательно):</label><br>
    <input type="file" name="image"><br><br>

    {{#if product.image}}
        <img src="{{product.image}}" width="200"><br><br>
    {{/if}}

    <button type="submit"
            style="padding: 8px 16px; background-color: #007BFF; color: white; border: none; border-radius: 4px;">
        Сохранить
    </button>
</form>

<form action="/products/{{product.id}}/delete" method="POST" style="display: inline;">
    <button type="submit"
            onclick="return confirm('Удалить этот товар?')"
            style="padding: 8px 16px; background-color: #dc3545; color: white; border: none; border-radius: 4px;">
        Удалить
    </button>
</form>


<br>
<a href="/products">← Назад к списку</a>
